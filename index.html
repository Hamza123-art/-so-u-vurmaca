<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Windows XP Vurmaca - GitHub Edition</title>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Arial', sans-serif; cursor: crosshair; }
        canvas { display: block; background-color: #000; }
        #skorTablosu {
            position: absolute; top: 20px; left: 20px;
            color: white; font-size: 32px; font-weight: bold;
            text-shadow: 2px 2px 4px #000; pointer-events: none;
        }
    </style>
</head>
<body>

    <div id="skorTablosu">Skor: 0</div>
    <canvas id="oyunAlani"></canvas>

    <audio id="arkaPlanSes" loop>
        <source src="arkaplan_sesi.wav" type="audio/wav">
    </audio>

    <script>
        const canvas = document.getElementById("oyunAlani");
        const ctx = canvas.getContext("2d");
        const skorYazi = document.getElementById("skorTablosu");

        let skor = 0;
        let oyunBasladi = false;

        // Ekranı Kapla
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Görselleri Yükle
        const arkaplanImg = new Image();
        arkaplanImg.src = 'arkaplan.jpg'; // Klasöründeki resimle aynı isim olmalı

        const hedefImg = new Image();
        hedefImg.src = 'hedef.png'; // Klasöründeki resimle aynı isim olmalı

        let hedef = { x: 100, y: 100, width: 150, height: 0 };

        hedefImg.onload = function() {
            // Resim yüklenince boyutu oranla
            const oran = 150 / hedefImg.width;
            hedef.height = hedefImg.height * oran;
            yeniKonum();
        };

        function yeniKonum() {
            hedef.x = Math.random() * (canvas.width - hedef.width);
            hedef.y = Math.random() * (canvas.height - hedef.height);
        }

        function ciz() {
            // Arka planı çiz
            ctx.drawImage(arkaplanImg, 0, 0, canvas.width, canvas.height);
            // Hedefi çiz
            ctx.drawImage(hedefImg, hedef.x, hedef.y, hedef.width, hedef.height);
            requestAnimationFrame(ciz);
        }

        // Tıklama Kontrolü
        canvas.addEventListener("mousedown", (e) => {
            // İlk tıklamada müziği başlat (Tarayıcı kuralı: kullanıcı etkileşimi şart)
            if(!oyunBasladi) {
                document.getElementById("arkaPlanSes").play();
                oyunBasladi = true;
            }

            const mouseX = e.clientX;
            const mouseY = e.clientY;

            if (mouseX >= hedef.x && mouseX <= hedef.x + hedef.width &&
                mouseY >= hedef.y && mouseY <= hedef.y + hedef.height) {
                skor += 100;
                skorYazi.innerText = "Skor: " + skor;
                yeniKonum();
            }
        });

        arkaplanImg.onload = () => { ciz(); };
    </script>
</body>
</html>
